{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/srishailam.dasari/Documents/Sri/appConf/app/lib/theme-context.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState, useCallback, type ReactNode } from 'react';\n\ntype Theme = 'light' | 'dark' | 'system';\ntype ResolvedTheme = 'light' | 'dark';\n\ninterface ThemeContextValue {\n  theme: Theme;\n  resolvedTheme: ResolvedTheme;\n  setTheme: (theme: Theme) => void;\n  mounted: boolean;\n}\n\nconst ThemeContext = createContext<ThemeContextValue | null>(null);\n\nconst THEME_STORAGE_KEY = 'confagenda-theme';\n\nfunction getSystemTheme(): ResolvedTheme {\n  if (typeof window === 'undefined') return 'dark';\n  return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n}\n\nfunction applyTheme(theme: ResolvedTheme) {\n  const root = document.documentElement;\n  root.classList.remove('light', 'dark');\n  root.classList.add(theme);\n  root.style.colorScheme = theme;\n}\n\ninterface ThemeProviderProps {\n  children: ReactNode;\n  defaultTheme?: Theme;\n}\n\nexport function ThemeProvider({ children, defaultTheme = 'system' }: ThemeProviderProps) {\n  // Always initialize with defaultTheme to match server render\n  const [theme, setThemeState] = useState<Theme>(defaultTheme);\n  const [resolvedTheme, setResolvedTheme] = useState<ResolvedTheme>('dark');\n  const [mounted, setMounted] = useState(false);\n\n  // After mount, read from localStorage and apply theme\n  useEffect(() => {\n    const stored = localStorage.getItem(THEME_STORAGE_KEY) as Theme | null;\n    if (stored && ['light', 'dark', 'system'].includes(stored)) {\n      setThemeState(stored);\n      const resolved = stored === 'system' ? getSystemTheme() : stored;\n      setResolvedTheme(resolved);\n      applyTheme(resolved);\n    } else {\n      // Apply default theme\n      const resolved = defaultTheme === 'system' ? getSystemTheme() : defaultTheme;\n      setResolvedTheme(resolved);\n      applyTheme(resolved);\n    }\n    setMounted(true);\n  }, [defaultTheme]);\n\n  // Apply theme when it changes (after initial mount)\n  useEffect(() => {\n    if (!mounted) return;\n    \n    const resolved = theme === 'system' ? getSystemTheme() : theme;\n    setResolvedTheme(resolved);\n    applyTheme(resolved);\n  }, [theme, mounted]);\n\n  // Listen for system theme changes\n  useEffect(() => {\n    if (!mounted || theme !== 'system') return;\n\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    const handleChange = () => {\n      const newTheme = getSystemTheme();\n      setResolvedTheme(newTheme);\n      applyTheme(newTheme);\n    };\n\n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, [theme, mounted]);\n\n  const setTheme = useCallback((newTheme: Theme) => {\n    setThemeState(newTheme);\n    localStorage.setItem(THEME_STORAGE_KEY, newTheme);\n    \n    // Apply immediately\n    const resolved = newTheme === 'system' ? getSystemTheme() : newTheme;\n    setResolvedTheme(resolved);\n    applyTheme(resolved);\n  }, []);\n\n  return (\n    <ThemeContext.Provider value={{ theme, resolvedTheme, setTheme, mounted }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAcA,MAAM,6BAAe,IAAA,6MAAa,EAA2B;AAE7D,MAAM,oBAAoB;AAE1B,SAAS;IACP;;IACA,OAAO,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAAG,SAAS;AAC9E;AAEA,SAAS,WAAW,KAAoB;IACtC,MAAM,OAAO,SAAS,eAAe;IACrC,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;IAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;IACnB,KAAK,KAAK,CAAC,WAAW,GAAG;AAC3B;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAE,eAAe,QAAQ,EAAsB;;IACrF,6DAA6D;IAC7D,MAAM,CAAC,OAAO,cAAc,GAAG,IAAA,wMAAQ,EAAQ;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wMAAQ,EAAgB;IAClE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wMAAQ,EAAC;IAEvC,sDAAsD;IACtD,IAAA,yMAAS;mCAAC;YACR,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,UAAU;gBAAC;gBAAS;gBAAQ;aAAS,CAAC,QAAQ,CAAC,SAAS;gBAC1D,cAAc;gBACd,MAAM,WAAW,WAAW,WAAW,mBAAmB;gBAC1D,iBAAiB;gBACjB,WAAW;YACb,OAAO;gBACL,sBAAsB;gBACtB,MAAM,WAAW,iBAAiB,WAAW,mBAAmB;gBAChE,iBAAiB;gBACjB,WAAW;YACb;YACA,WAAW;QACb;kCAAG;QAAC;KAAa;IAEjB,oDAAoD;IACpD,IAAA,yMAAS;mCAAC;YACR,IAAI,CAAC,SAAS;YAEd,MAAM,WAAW,UAAU,WAAW,mBAAmB;YACzD,iBAAiB;YACjB,WAAW;QACb;kCAAG;QAAC;QAAO;KAAQ;IAEnB,kCAAkC;IAClC,IAAA,yMAAS;mCAAC;YACR,IAAI,CAAC,WAAW,UAAU,UAAU;YAEpC,MAAM,aAAa,OAAO,UAAU,CAAC;YACrC,MAAM;wDAAe;oBACnB,MAAM,WAAW;oBACjB,iBAAiB;oBACjB,WAAW;gBACb;;YAEA,WAAW,gBAAgB,CAAC,UAAU;YACtC;2CAAO,IAAM,WAAW,mBAAmB,CAAC,UAAU;;QACxD;kCAAG;QAAC;QAAO;KAAQ;IAEnB,MAAM,WAAW,IAAA,2MAAW;+CAAC,CAAC;YAC5B,cAAc;YACd,aAAa,OAAO,CAAC,mBAAmB;YAExC,oBAAoB;YACpB,MAAM,WAAW,aAAa,WAAW,mBAAmB;YAC5D,iBAAiB;YACjB,WAAW;QACb;8CAAG,EAAE;IAEL,qBACE,4NAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAe;YAAU;QAAQ;kBACrE;;;;;;AAGP;GA9DgB;KAAA;AAgET,SAAS;;IACd,MAAM,UAAU,IAAA,0MAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/srishailam.dasari/Documents/Sri/appConf/app/lib/posthog-provider.tsx"],"sourcesContent":["'use client';\n\nimport posthog from 'posthog-js';\nimport { PostHogProvider as PHProvider } from 'posthog-js/react';\nimport { useEffect, useState } from 'react';\nimport { usePathname, useSearchParams } from 'next/navigation';\n\n// Check if PostHog is configured\nconst POSTHOG_KEY = process.env.NEXT_PUBLIC_POSTHOG_KEY || '';\nconst POSTHOG_HOST = process.env.NEXT_PUBLIC_POSTHOG_HOST || 'https://us.i.posthog.com';\n\nfunction isPostHogConfigured(): boolean {\n  return typeof window !== 'undefined' && POSTHOG_KEY.length > 0 && POSTHOG_KEY.startsWith('phc_');\n}\n\n// Initialize PostHog only if key is available\nif (isPostHogConfigured()) {\n  posthog.init(POSTHOG_KEY, {\n    api_host: POSTHOG_HOST,\n    person_profiles: 'identified_only',\n    capture_pageview: false, // We'll handle this manually for better control\n    capture_pageleave: true,\n    autocapture: {\n      dom_event_allowlist: ['click', 'submit'],\n      element_allowlist: ['button', 'a', 'input', 'select'],\n    },\n  });\n}\n\n// Component to track page views\nfunction PostHogPageView() {\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n\n  useEffect(() => {\n    if (pathname && isPostHogConfigured()) {\n      // Extract conference slug from pathname\n      const conferenceSlug = pathname.split('/')[1] || 'home';\n      \n      let url = window.origin + pathname;\n      if (searchParams.toString()) {\n        url = url + '?' + searchParams.toString();\n      }\n\n      posthog.capture('$pageview', {\n        $current_url: url,\n        conference: conferenceSlug,\n        path: pathname,\n      });\n    }\n  }, [pathname, searchParams]);\n\n  return null;\n}\n\ninterface PostHogProviderProps {\n  children: React.ReactNode;\n}\n\nexport function PostHogProvider({ children }: PostHogProviderProps) {\n  const [isEnabled, setIsEnabled] = useState(false);\n\n  useEffect(() => {\n    // Check on client side if PostHog is configured\n    setIsEnabled(isPostHogConfigured());\n  }, []);\n\n  // If PostHog is not configured, just render children\n  if (!isEnabled) {\n    return <>{children}</>;\n  }\n\n  return (\n    <PHProvider client={posthog}>\n      <PostHogPageView />\n      {children}\n    </PHProvider>\n  );\n}\n\n// Export posthog instance for direct usage\nexport { posthog };\n\n"],"names":[],"mappings":";;;;AAQoB;;AANpB;AACA;AACA;AACA;;;AALA;;;;;AAOA,iCAAiC;AACjC,MAAM,cAAc,0MAAO,CAAC,GAAG,CAAC,uBAAuB,IAAI;AAC3D,MAAM,eAAe,0MAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI;AAE7D,SAAS;IACP,OAAO,+CAAkB,eAAe,YAAY,MAAM,GAAG,KAAK,YAAY,UAAU,CAAC;AAC3F;AAEA,8CAA8C;AAC9C,IAAI,uBAAuB;IACzB,4LAAO,CAAC,IAAI,CAAC,aAAa;QACxB,UAAU;QACV,iBAAiB;QACjB,kBAAkB;QAClB,mBAAmB;QACnB,aAAa;YACX,qBAAqB;gBAAC;gBAAS;aAAS;YACxC,mBAAmB;gBAAC;gBAAU;gBAAK;gBAAS;aAAS;QACvD;IACF;AACF;AAEA,gCAAgC;AAChC,SAAS;;IACP,MAAM,WAAW,IAAA,mLAAW;IAC5B,MAAM,eAAe,IAAA,uLAAe;IAEpC,IAAA,yMAAS;qCAAC;YACR,IAAI,YAAY,uBAAuB;gBACrC,wCAAwC;gBACxC,MAAM,iBAAiB,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;gBAEjD,IAAI,MAAM,OAAO,MAAM,GAAG;gBAC1B,IAAI,aAAa,QAAQ,IAAI;oBAC3B,MAAM,MAAM,MAAM,aAAa,QAAQ;gBACzC;gBAEA,4LAAO,CAAC,OAAO,CAAC,aAAa;oBAC3B,cAAc;oBACd,YAAY;oBACZ,MAAM;gBACR;YACF;QACF;oCAAG;QAAC;QAAU;KAAa;IAE3B,OAAO;AACT;GAvBS;;QACU,mLAAW;QACP,uLAAe;;;KAF7B;AA6BF,SAAS,gBAAgB,EAAE,QAAQ,EAAwB;;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wMAAQ,EAAC;IAE3C,IAAA,yMAAS;qCAAC;YACR,gDAAgD;YAChD,aAAa;QACf;oCAAG,EAAE;IAEL,qDAAqD;IACrD,IAAI,CAAC,WAAW;QACd,qBAAO;sBAAG;;IACZ;IAEA,qBACE,4NAAC,mNAAU;QAAC,QAAQ,4LAAO;;0BACzB,4NAAC;;;;;YACA;;;;;;;AAGP;IAnBgB;MAAA"}}]
}